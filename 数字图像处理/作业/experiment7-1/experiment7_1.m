clear,clc,close all;
img=imread('test.png');
Image=im2double(rgb2gray(img));
H1=[-1 -1 -1;0 0 0;1 1 1];H2=[0 -1 -1;1 0 -1; 1 1 0];
H3=[1 0 -1;1 0 -1;1 0 -1];H4=[1 1 0;1 0 -1;0 -1 -1];
H5=[1 1 1;0 0 0;-1 -1 -1];H6=[0 1 1;-1 0 1;-1 -1 0];
H7=[-1 0 1;-1 0 1;-1 0 1];H8=[-1 -1 0;-1 0 1;0 1 1];
R1=imfilter(Image,H1);R2=imfilter(Image,H2);
R3=imfilter(Image,H3);R4=imfilter(Image,H4);
R5=imfilter(Image,H5);R6=imfilter(Image,H6);
R7=imfilter(Image,H7);R8=imfilter(Image,H8);
edgeImage1=abs(R1)+abs(R7);
sharpImage1=edgeImage1+Image;
f1=max(max(R1,R2),max(R3,R4));f2=max(max(R5,R6),max(R7,R8));
edgeImage2=max(f1,f2);sharpImage2=edgeImage2+Image;
subplot(2,3,1),imshow(img);
subplot(2,3,2),imshow(edgeImage1);
subplot(2,3,3),imshow(edgeImage2);
subplot(2,3,4),imshow(sharpImage1);
subplot(2,3,5),imshow(sharpImage2);